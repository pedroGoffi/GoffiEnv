#ifndef __table
#define __table
#include <vector>
#include "./ast.cpp"
#include "./visitor.cpp"

namespace Vars {
  static std::vector<Ast::Node*> GLOBAL_VARS = {};
  Ast::Node* GLOBAL_FIND(const char*);
  void GLOBAL_PUSH(Ast::Node*);


  void GLOBAL_PUSH(Ast::Node* var){    
    GLOBAL_VARS.push_back(var);
  }
  Ast::Node* GLOBAL_FIND(const char* name){
    for(size_t i = 0; i < GLOBAL_VARS.size(); ++i){
      assert(GLOBAL_VARS[i]->name);
      if(!strcmp(GLOBAL_VARS[i]->name, name)){
	return GLOBAL_VARS[i];
      }
    }
    return NULL;
  }
}

namespace Procs {
  static std::vector<Ast::Node*> PROCS = {};
  
  void PROCS_PUSH(Ast::Node*);
  Ast::Node* PROCS_FIND(const char*);

  void PROCS_PUSH(Ast::Node* proc){
    PROCS.push_back(proc);
  }
  Ast::Node* PROCS_FIND(const char* name){
    for(size_t i=0; i < PROCS.size(); ++i){
      assert(PROCS[i]->name);
      if(!strcmp(PROCS[i]->name, name)){
	return PROCS[i];
      }
    }
    return NULL;
  }
}
#endif /*__table*/
